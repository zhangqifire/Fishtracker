function [y1] = myAnn8(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 30-Sep-2016 22:28:42.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 27xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [47;46;46;46;48;46;46;48;46;42;46;47;40;48;46;33;47;45;46;47;45;46;48;45;45;48;46];
  x1_step1_gain = [0.00961538461538462;0.00956937799043062;0.00956937799043062;0.00956937799043062;0.00966183574879227;0.00956937799043062;0.00956937799043062;0.00966183574879227;0.00956937799043062;0.00938967136150235;0.00956937799043062;0.00961538461538462;0.00930232558139535;0.00966183574879227;0.00956937799043062;0.00900900900900901;0.00961538461538462;0.00952380952380952;0.00956937799043062;0.00961538461538462;0.00952380952380952;0.00956937799043062;0.00966183574879227;0.00952380952380952;0.00952380952380952;0.00966183574879227;0.00956937799043062];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [0.058626619804366682;0.071472919388289577;0.38921873124293599;0.073855023777895393;1.2866142968754424;-2.5108231303551198;-0.038917144321919825;-0.66074313083359282;0.22508202324424112;-0.16153484241875524];
  IW1_1 = [-0.39943558855898342 0.2109463824910941 0.0044211372531965673 -0.31489942576897068 0.18890515428052876 0.065137762692045964 -0.005621589763176886 0.036142164749465494 0.073284932648734688 -0.049904664849921697 0.052424389436897922 0.049040226257323932 -0.093977997668143909 0.17992055885912192 -0.39535428262907513 0.04286991461806719 0.016824418620207515 -0.209368545235809 -0.47222292167620378 -0.1214653913168779 0.32404357411284712 -0.090549282931754627 0.33778095391185675 -0.19257900241599413 0.13135116529205676 -0.076780135650229189 0.059825089498533393;-0.24528091065019766 0.13960485250352106 -0.041825899986522669 -0.4171750389035363 0.23522314191332988 0.16496055822908837 -0.1356235924876085 -0.044983457485744838 0.016809114920803166 -0.36287276008395908 0.046988574740063536 0.24028607624339668 -0.014235304863300267 0.17797077889250945 -0.33059021321542548 -0.14146943360830053 0.096888348842312941 0.0028653853626175968 -0.33998561905810631 0.11131659845040481 0.15117345148194383 -0.081023267254836523 0.2342155929985939 0.071398214091222323 -0.035964012338718786 -0.016062989849552189 0.0026396390316389923;0.19641284378741386 -0.15743867251831492 -0.0018659075248131634 0.051555820317031396 0.010093092554747378 0.011929917584537935 -0.065606638915019111 -0.067547811867620766 0.01321239057064957 -0.12110891514850093 0.022963678351690262 0.094608173057315587 0.06144033981996553 -0.062646569342099903 0.12475148739756853 -0.0085871132619798965 0.080210216599090362 0.11815976101334648 0.16904689258018091 0.10519957383758734 -0.14564091432204321 0.053683582961691276 -0.14172952525412108 0.16211961975156142 -0.15131973942090765 0.01170134729391824 0.023310235215810975;-0.37520697556571786 0.063322515098083731 0.26874153047296367 -0.12245171055278439 -0.15436419175336374 -0.035678079177436831 -0.23289065065030495 0.031028335581115871 0.49396915379465917 -0.10350969660099646 0.31610638803649022 0.35906680105591171 -0.038549189791663066 -0.13249540185500286 0.20035944894333005 -0.24659600645251142 0.045567413046602785 -0.0021497238415064293 -0.32481347400070787 0.052118926721292293 0.057822743576203157 0.027575207625256642 0.048876376409369031 0.004095673982372666 -0.39739275093560972 0.37963204685714014 0.06809940030800235;-0.88165303354284641 0.39186420533445326 0.49851618213731685 -1.0737131003632365 0.27393809801568442 0.32187219982757026 -1.2517215688848808 0.55965702834154851 0.48988388859982979 -0.63193112988501465 0.4864570090617456 0.38604325630787628 -0.73838959555292083 0.69664652826959239 0.9458857670708859 -0.99737294999926551 0.23226587734224977 0.61104005578786713 -0.71831734712167028 0.055060856331611271 0.49137866298515032 -0.74769140543631518 0.30856931116644942 0.36776710708293514 -1.1037517194833451 0.83005469569881152 0.30860266041788403;1.4145844023503371 -0.58269721397709739 -0.8669966540585875 1.7984930039229159 -1.1392611960536818 -1.0978577256644717 2.4923987397362906 -0.38116029892358899 -0.40080102836474413 1.25970651852362 -0.48978098049709845 -0.72516739418324738 1.7355412423322951 -0.88008442013663002 -0.80349310545785591 1.5709587923514807 -1.0581318733810432 -1.0820261974340228 1.3209731412089001 -0.64518938180439778 -0.59239066182748423 1.7574766886706858 -1.0829945862629478 -1.0462967181845093 1.6649062981873937 -1.0097566420594293 -1.3019229599286204;0.15679743699751639 0.052553532115326596 -0.067094974301624602 -0.084036432676831987 0.37903179324577885 -0.34362427268153228 0.086248326920594184 -0.036187814499071401 -0.27219385486619579 -0.04383924582899193 -0.16043608329685996 -0.4115062310851928 0.062247615753514909 -0.097744636604653268 -0.18012702966254623 0.15439734453870377 -0.2398805809809266 -0.28756885027785378 0.30939304077001967 -0.030939534077498488 -0.12029843612253431 0.096867694642673294 0.023474854039095789 -0.11219148972060254 0.28431573701754942 -0.057864138784571792 -0.088888098400792023;0.44984617374946101 -0.27929652604680616 -0.11816210588196271 0.53833513333178284 -0.029774756686165391 -0.23790297570846528 0.73288354704172631 -0.34066590263345031 -0.19661910626241055 0.47696524462781348 -0.18239761324528436 -0.39909633477691386 0.46616369026320653 -0.31600684649638183 -0.61279839079112397 0.62351847598555044 -0.37089887637140639 -0.38696096395028073 0.39222720808134454 -0.23760671800641148 -0.11735876939748412 0.51901190436371303 -0.3295576492317619 -0.27017087859326866 0.53738867406591806 -0.21735272295730421 -0.084779754573313312;-0.319523511331952 0.16768484722444962 0.079290996179196091 -0.38051700552092454 0.11125704647752307 0.084044034694107136 -0.33956241049571562 0.047531119286062448 0.21631918841615277 -0.37998255123459618 0.14459348558043353 0.36825237531262506 -0.078993240594938979 0.0075885948944528978 0.10450067881326072 -0.32275816737460017 0.20664485826964313 0.10760052706987651 -0.31790373060628041 0.20496435831900622 0.022896904203138425 -0.21957494050175863 0.25743699352085869 0.16653654522212791 -0.28492659809783139 0.14789708416057018 0.031942151243149947;-0.12534633006338786 0.20901133865293675 0.064486024298088765 0.075290091196740391 -0.059759679864284938 -0.28887001818321117 0.041615192127319789 0.030785340366972863 -0.13126775579160191 -0.0019341274133099376 -0.02349781055188891 -0.38009251244426451 -0.0010557609787603317 0.0062173602833104392 -0.14237081630039886 -0.11992806665672955 -0.4787607404950292 -0.33704566456272994 0.23973952109498861 0.037825898946947101 -0.12726477241975512 0.26474185864732119 -0.21353538126792471 -0.11239160348016401 0.20714961527762168 0.34120692788056284 -0.23947532038222591];
  
  % Layer 2
  b2 = -0.13310289356165467;
  LW2_1 = [0.34820014960276019 -0.51777702057638453 0.38572282215899545 -0.58757450927454402 1.0089300943846231 1.5464075172424445 -0.48523065787063324 0.83604867611472256 0.99260410526679077 0.32213257456254374];
  
  % Output 1
  y1_step1_ymin = -1;
  y1_step1_gain = 2;
  y1_step1_xoffset = 0;
  
  % ===== SIMULATION ========
  
  % Dimensions
  Q = size(x1,2); % samples
  
  % Input 1
  xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
  
  % Layer 1
  a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);
  
  % Layer 2
  a2 = repmat(b2,1,Q) + LW2_1*a1;
  
  % Output 1
  y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
  x = bsxfun(@minus,y,settings_ymin);
  x = bsxfun(@rdivide,x,settings_gain);
  x = bsxfun(@plus,x,settings_xoffset);
end
