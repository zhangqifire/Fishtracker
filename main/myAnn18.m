function [y1] = myAnn8(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 05-May-2015 16:30:50.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 27xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
  x1_step1_gain = [0.00888888888888889;0.00784313725490196;0.00784313725490196;0.00862068965517241;0.00784313725490196;0.00784313725490196;0.00884955752212389;0.00784313725490196;0.00784313725490196;0.00809716599190283;0.00784313725490196;0.00784313725490196;0.00823045267489712;0.00784313725490196;0.00784313725490196;0.00819672131147541;0.00784313725490196;0.00784313725490196;0.00826446280991736;0.00784313725490196;0.00784313725490196;0.00847457627118644;0.00784313725490196;0.00784313725490196;0.00809716599190283;0.00784313725490196;0.00784313725490196];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [-0.24316706907130534;-0.098249259788796936;-0.24813401969562293;-0.24663704784589202;-0.017610634626040515;0.3056013275099122;0.044478501307331532;0.086702987001835305;0.21342463512407714;-1.7929428516538155];
  IW1_1 = [-0.085289957708704747 -0.10966104415004151 -0.23272194576564251 -0.10459519954205825 -0.079293744983411033 -0.21593975078011524 0.018433038548381988 -0.13084645773019968 -0.27481006911405975 0.0034920683172982511 -0.12994540892577133 -0.21641318329732276 -0.014541248117969717 -0.021090569461329343 -0.23491640711881831 -0.054472654987183129 -0.043804010456670248 -0.31276543974916327 0.0077502433706363892 -0.11798709239864402 -0.27305566058793912 0.091391177542473681 0.052797630059056432 -0.20411608644774881 -0.044665591772770831 0.045682313246602164 -0.22887861367318457;-0.26056040039811984 0.21810874529483518 0.14687243288682991 -0.24221291141461909 0.084484795315426561 0.21956512480513254 -0.22655127132281827 -0.031201921983704403 0.10800855152936234 -0.35758640626548482 0.071474595380900216 0.49028756654751016 -0.20337981155818088 0.098563196886258905 0.41525730790598669 -0.42751751466421806 0.18461918091774265 0.34486373292497213 -0.31967243522971217 0.14415050640167087 0.29384596851742006 -0.36915950589682323 0.30412244207625033 0.34516540410591506 -0.78156598432715663 0.37887374254723172 0.3258261172672674;0.25894796222773009 0.11426825953310245 -0.22801228882877525 -0.019173753464964634 0.090578745104647557 -0.15851418547621174 0.1770756196212169 0.060092626170156239 -0.1419881216526333 0.14601924838521538 -0.053258202002963426 -0.1300068634234679 0.098043607496444821 -0.011782254592435747 -0.15360124760002283 0.0072271913025321018 0.010584113310962297 -0.1436339783321533 0.040978047281199463 -0.17140575432840127 -0.17541374348567235 0.056725164447760303 0.0049115925186619634 -0.033873991191081566 -0.015969658780642167 0.023246451706584563 -0.18929202948708365;0.039578791299664386 0.020083338014883025 -0.22969889902683266 0.017725421511049725 0.0020966471637506837 -0.14843211238434137 0.18569871090874299 -0.057441284879491697 -0.12020985562455956 -0.013059995375642723 0.041782501029544908 -0.11197457477703533 0.093616956177404315 0.015904169899415233 -0.1037620959225429 0.097920134412411403 0.024145099065586054 -0.12761815876889074 0.14033525240605288 0.04175062664247383 -0.11081965470079946 0.092309350864136788 0.0041775613684990071 -0.14682514905921085 0.11516530951257112 0.074158734564622394 -0.20344833619549857;-0.15638417563431942 0.078257929546191179 -0.00022014888595313348 -0.16706542216275791 0.053918109331155456 0.024139436530046774 -0.15131673765985437 0.12167365523225748 0.053321309087219819 -0.097955374680866972 0.10830365880303477 0.011699979741459046 -0.08470597512795465 0.018492083407766684 0.03617104761840028 -0.092534728914300979 0.056368489430466281 0.099730163929448903 -0.060501464108560665 -0.00085758286785852589 0.083276962311126454 -0.14568971216643548 -0.067973872334445865 0.094972939748957791 -0.076576316120628748 0.096671048083906655 0.042501188582385392;-0.055887517239990955 0.93322340531113523 -0.053789468961966319 -0.52814180192427751 1.0247816187024703 0.12295085132376467 -0.76995623349323139 0.85424219748282959 -0.062327492215179775 -0.26448358897938512 1.0092331544656148 -0.19524055374053911 -0.64151663610001652 0.91208718001188527 0.063981092034327794 -0.66060384738428446 0.52868528402817105 -0.079471468947458643 -0.65188873822325843 0.70534545243478619 -0.21274745267346404 -0.89212137605737241 0.46423805695244097 -0.04904840789760026 -0.55708061583063362 0.083372981995282383 -0.42159634641067872;-0.044743055563852732 0.084437154740198098 -0.025886643185345108 -0.11011651525917519 0.0047320777137449315 -0.015050559041131664 0.025468556593249425 0.070354832605007883 -0.043849615467499298 -0.04056100547578638 -0.039948988042499287 -0.0032982434021945513 0.049726050016744655 -0.014271938696575262 -0.047851306342461493 -0.095396111364077302 0.057883195470121503 -0.077537804047180664 -0.016382630132097061 0.015439094369234635 -0.082760815260834328 -0.064973131941524029 -0.020531990024192634 -0.067903723869094157 0.00061279402656916175 0.065065983073529718 -0.057648525651899186;0.017738662726361883 0.049055746741377151 0.069448037574493901 0.031720016189158311 0.012863367935504308 0.06005233615318465 0.019517188800651546 0.07040767852530011 0.05490501701281799 -0.023692430187810486 0.066721831769035594 0.059855507008257695 -0.00040530386154254735 0.026352956922384679 0.040322050445364591 -0.02783114962877584 0.058436840260592329 0.059871181147689877 0.080539610929798958 0.11282644772581546 0.056018325031201334 0.03988551303543867 0.045515657404915387 0.059658220481580364 0.086224561266487559 0.091335276304905788 0.075867038360342129;-0.029181965350127754 0.016738463598618827 0.22414514975063851 -0.049829470738585062 0.019743750696130321 0.14814897593418566 -0.14719985843118366 0.068439654681860418 0.12395669649444245 -0.028173666977339893 0.0086029468628442251 0.10294913746286606 -0.11403367028861931 -0.011085948785925904 0.088195979035236752 -0.08615002504422245 -0.01111612785263915 0.13102754375032064 -0.094307248905227153 -0.0077299473878767967 0.097109888105153183 -0.11145905394709524 -0.031177730273441499 0.094960830461718868 -0.059032549472384559 -0.067009505350192844 0.12318049005653907;0.053421244792289324 -0.27806796304306253 0.062145029284815093 0.39183937911964151 -0.44237013538171494 -0.09463785016898929 -0.28834371775495532 -0.15254153281651836 -0.22250046895067777 0.22642418035960443 -0.11007828987000845 -0.098688239242354606 0.16945676610721355 -0.3319198309916716 0.16116989871415957 0.26310136603119455 -0.33470414599655007 0.011421603966472378 -0.11401789721310344 -0.345504936153672 -0.072456350746531603 -0.31554295826603534 -0.57851912201924593 0.12769931015507899 -0.12604406875105464 -0.38065832436415992 0.41035311419807013];
  
  % Layer 2
  b2 = -0.71940620175587988;
  LW2_1 = [0.81762741623246771 1.1051927700182564 0.41568036447651713 0.28751497596403658 0.30805496991257253 -1.5064989532133866 -0.27048850821917331 -0.12752481864934084 -0.15541323475461963 -1.5492967852266359];
  
  % Output 1
  y1_step1_ymin = -1;
  y1_step1_gain = 2;
  y1_step1_xoffset = 0;
  
  % ===== SIMULATION ========
  
  % Dimensions
  Q = size(x1,2); % samples
  
  % Input 1
  xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
  
  % Layer 1
  a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);
  
  % Layer 2
  a2 = repmat(b2,1,Q) + LW2_1*a1;
  
  % Output 1
  y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
  x = bsxfun(@minus,y,settings_ymin);
  x = bsxfun(@rdivide,x,settings_gain);
  x = bsxfun(@plus,x,settings_xoffset);
end
